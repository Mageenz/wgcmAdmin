(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,t,a){e.exports=a("56d7")},"0a2d":function(e,t,a){"use strict";var r=a("1c4e"),s=a.n(r);s.a},"1c4e":function(e,t,a){},"2c36":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAACTklEQVR4Xu2asW1CQRBED4lCCB24AEeugY5sd0QNjlwAgUMKIbDcwcxJOxrpP+LZ2/3vscE/OC0+VQROVdMwzEJI2ZcAIQgpI1A2DhuCkDICZeOwIQgpI1A2DhuCkDICZeOwIQgpI1A2DhuCkDICZeOwIQgpI1A2DhuCkDICZeOwIQgpI1A2DhuCkDICZeOwIQgpI1A2jr0hr+/Xz7XWR9lztI7zdf++/fOSPwiRUW0FEbKFba4IIXNst05GyBa2uSKEzLHdOhkhW9jmihAyx3br5HkhL2/Xy/m8LlvjHazo+VyP35/bw3ls+z3EOZysTwAhPrPRCoSM4vUPR4jPbLQCIaN4/cMR4jMbrUDIKF7/cIT4zEYrEDKK1z8cIT6z0QqEjOL1D7eFcJelQ47cZfEnB13IWmv+thchCLEIlIXZEISUESgbhw1BSBmBsnHYkMMJ4cVQVx55MdTHIblDwL462WlCjU4AITqrSBIhEcx6E4TorCJJhEQw600QorOKJBESwaw3QYjOKpJESASz3gQhOqtI0hbCXZbuJXKXxW/quhD+5GCxioT5PSSCWW+CEJ1VJImQCGa9CUJ0VpEkQiKY9SYI0VlFkvNCIo9x4Cb2m/qBWUUeHSERzHoThOisIkmERDDrTRCis4okERLBrDdBiM4qkkRIBLPeBCE6q0gSIRHMehOE6KwiSYREMOtNEKKziiQREsGsN0GIziqSREgEs94EITqrSBIhEcx6E4TorCJJhEQw600QorOKJBESwaw3QYjOKpJESASz3uQPRliUZfNjM5YAAAAASUVORK5CYII="},"4bc1":function(e,t,a){"use strict";var r=a("ee8e"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var r=a("8bbf"),s=a.n(r),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"main-container",attrs:{id:"app"}},[a("router-view")],1)},i=[],o={name:"APP"},l=o,c=(a("7c55"),a("2877")),u=Object(c["a"])(l,n,i,!1,null,null,null),p=u.exports,m=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("el-form",{attrs:{"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{label:"用户名：",prop:""}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),a("el-form-item",{attrs:{label:"密码：",prop:""}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入密码",type:"password",clearable:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),a("el-form-item",{attrs:{label:"",prop:""}},[a("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录 ")])],1)],1)],1)},f=[],h=a("f499"),g=a.n(h),b=a("cebc"),v=(a("96cf"),a("3b8d")),k={data:function(){return{form:{userName:"",password:""},pubkey:"MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAJPSsAm9Po08VtGKQx86TuOYu/7BTOtwYlFQvjQCEs3aTeUOH3p9pgd3pw14Num0n/l3Sk3d1av4hzZJvlODfScCAwEAAQ=="}},methods:{login:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=new JSEncrypt,t.setPublicKey(this.pubkey),a=t.encrypt(this.form.password),e.next=5,API.common.login(Object(b["a"])({},this.form,{password:a}));case 5:r=e.sent,100===r.data.code&&(localStorage.userInfo=g()(r.data.data),this.$store.commit("updateUserInfo",r.data.data),this.$router.push({name:"home"}));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},y=k,w=(a("5dec"),Object(c["a"])(y,d,f,!1,null,"bc772ce8",null)),T=w.exports,x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home-container"},[r("left-bar",{attrs:{isLeftBarShow:e.isLeftBarShow}}),r("div",{staticClass:"right-content",style:{marginLeft:e.isLeftBarShow?"220px":"0px"}},[r("div",{staticClass:"topbar"},[r("a",{staticClass:"togglebtn",attrs:{href:"javascript:void(0)"},on:{click:function(t){e.isLeftBarShow=!e.isLeftBarShow}}},[r("img",{attrs:{src:a("2c36")}})]),r("el-button",{staticClass:"loginout",attrs:{type:"danger",size:"mini"},on:{click:e.loginOut}},[e._v("登出")])],1),r("div",{staticClass:"page-content"},[r("div",{staticClass:"page-breads"},[r("el-breadcrumb",{attrs:{separator:"/"}},e._l(e.$route.meta.breads,function(t){return r("el-breadcrumb-item",[e._v(e._s(t))])}),1)],1),r("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"router-container"},[r("router-view",{staticClass:"router"})],1)])])],1)},C=[],S=(a("a481"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leftbar",style:{transform:e.isLeftBarShow?"translateX(0)":"translateX(-100%)"}},[a("div",{staticClass:"logo"},[e._v("玩固传媒")]),a("div",{staticClass:"welcome"},[a("img",{attrs:{src:""+e.ENV+e.userInfo.admin.aheadphoto,width:"50"}}),a("div",{staticClass:"userinfo"},[a("div",{staticClass:"username"},[e._v(e._s(e.userInfo.admin.aname))]),a("div",{staticClass:"tip"},[e._v("欢迎回来")])])]),a("ul",{staticClass:"navs"},e._l(e.navs,function(t,r){return a("li",{staticClass:"nav",class:{active:e.activeIndex===r}},[t.path?[a("router-link",{staticClass:"parent-nav-spec",attrs:{to:t.path},on:{click:function(t){return e.openChildNavs(r)}}},[a("i",{staticClass:"icon",class:t.icon}),a("span",[e._v(e._s(t.name))])])]:[a("a",{staticClass:"parent-nav",attrs:{href:"javascript:void(0)"},on:{click:function(t){return e.openChildNavs(r)}}},[a("i",{staticClass:"icon",class:t.icon}),a("span",[e._v(e._s(t.name))]),a("i",{staticClass:"el-icon-arrow-left",class:{active:e.activeIndex===r}})]),a("ul",{staticClass:"child-navs",style:{height:e.activeIndex===r?37*t.children.length+"px":0}},e._l(t.children,function(t){return a("li",[a("router-link",{staticClass:"child-nav",attrs:{to:t.path}},[a("span",[e._v(e._s(t.name))])])],1)}),0)]],2)}),0)])}),_=[],I=(a("ac6a"),{data:function(){return{ENV:ENV,activeIndex:0,navs:[{name:"任务管理",icon:"el-icon-setting",children:[{name:"已发布任务",path:"/mission/publishedMissionList"},{name:"任务审核",path:"/mission/missionCheckList"},{name:"发布任务",path:"/mission/publishMission"},{name:"平台及任务类型",path:"/mission/platformList"}]},{name:"用户管理",icon:"el-icon-document",children:[{name:"兼职管理",path:"/user/rUserManage"},{name:"客户管理",path:"/user/cUserManage"},{name:"后台用户管理",path:"/user/adminUserManage"}]},{name:"小组管理",icon:"el-icon-menu",path:"/group/groupList",children:[{name:"小组管理",path:"/group/groupList"}]},{name:"财务管理",icon:"el-icon-goods",children:[{name:"任务账单",path:"/finance/missionBillList"},{name:"用户账单",path:"/finance/userBillList"}]},{name:"公告管理",icon:"el-icon-message",children:[{name:"公告管理",path:"/notice/noticeList"}]}]}},props:["isLeftBarShow"],watch:{$route:function(e){var t=this;this.navs.forEach(function(a,r){a.children.forEach(function(a){e.fullPath.indexOf(a.path)>-1&&(t.activeIndex=r)})})}},computed:{userInfo:function(){return this.$store.state.userInfo}},methods:{openChildNavs:function(e){this.activeIndex===e?this.activeIndex=-1:this.activeIndex=e}},mounted:function(){var e=this;this.navs.forEach(function(t,a){t.children.forEach(function(t){e.$route.fullPath.indexOf(t.path)>-1&&(e.activeIndex=a)})})}}),R=I,D=(a("0a2d"),Object(c["a"])(R,S,_,!1,null,"7d955794",null)),$=D.exports,L={data:function(){return{isLeftBarShow:!0}},computed:{isLoading:function(){return this.$store.state.isLoading}},components:{LeftBar:$},methods:{loginOut:function(){localStorage.clear(),this.$router.replace({name:"login"})}}},P=L,A=(a("4bc1"),Object(c["a"])(P,x,C,!1,null,"5a94cc91",null)),O=A.exports,j=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("el-row",{staticClass:"page-searchbar",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-select",{staticClass:"w100",attrs:{placeholder:"请选择"},model:{value:e.form.taskStatus,callback:function(t){e.$set(e.form,"taskStatus",t)},expression:"form.taskStatus"}},e._l(e.missionStatus,function(e,t){return a("el-option",{attrs:{value:t,label:e}})}),1)],1),a("el-col",{attrs:{span:6}},[a("el-select",{staticClass:"w100",attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.userType,callback:function(t){e.$set(e.form,"userType",t)},expression:"form.userType"}},[a("el-option",{attrs:{value:"0",label:"后台"}}),a("el-option",{attrs:{value:"1",label:"客户"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"w100",attrs:{placeholder:"请输入关键词",clearable:""},model:{value:e.form.taskId,callback:function(t){e.$set(e.form,"taskId",t)},expression:"form.taskId"}})],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"任务编号",prop:"tid"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{name:"onlineMission",query:{operateType:"online",releaseTaskId:r.tid,taskId:r.tid,taskType:"ReleaseTask",taskAddUserType:r.taddUserType}}}},[e._v(e._s(r.tid))])]}}])}),a("el-table-column",{attrs:{label:"平台",prop:"platformName"}}),a("el-table-column",{attrs:{label:"方向",prop:"tdirection"}}),a("el-table-column",{attrs:{label:"用户名",prop:"userName"}}),a("el-table-column",{attrs:{label:"时间",prop:"tdate"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatTime")(a.tdate)))]}}])}),a("el-table-column",{attrs:{label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{name:"acceptMissionList",query:{releaseTaskId:r.tid}}}},[e._v(e._s(r.trequiredquan)+"/"+e._s(r.tleftquan))])]}}])}),a("el-table-column",{attrs:{label:"操作",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[0===r.sort&&1===r.tstatus?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.foundation(r,999)}}},[e._v("置顶")]):e._e(),999===r.sort&&1===r.tstatus?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.foundation(r,0)}}},[e._v("取消置顶")]):e._e(),1===r.tstatus?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.updateReleaseStatus(r,2)}}},[e._v("暂停")]):e._e(),2===r.tstatus?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.updateReleaseStatus(r,1)}}},[e._v("继续")]):e._e()]}}])})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.form.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}})],1)},F=[],N=a("a4bb"),U=a.n(N),B=(a("7f7f"),{methods:{appendSearchParamsToRoute:function(e){this.$router.push({name:this.$route.name,query:e})},handlePageChange:function(e){this.form.page=e,this.appendSearchParamsToRoute(Object(b["a"])({},this.$route.query,{page:e})),this.getList()}},watch:{$route:function(e){U()(e.query).length||this.getList()}},mounted:function(){this.getList()}}),M={9:"全部",0:"待审核",1:"进行中",2:"暂停",3:"已完成",4:"未通过审核",5:"已退款"},E={0:"全部",1:"待审核",2:"已完成",3:"未达标",4:"驳回",5:"超时",6:"进行中"},q={Receiver:"兼职",Client:"客户"},z={0:"管理员",1:"超级管理员"},Q={0:"日/月",1:"自定义"},G={clientRecharge:"客户充值",clientPay:"客户支出",clientRefund:"客户退款",receiverSalary:"兼职工资",receiverIncome:"兼职收益"},V={mixins:[B],data:function(){return{missionStatus:M,form:{userType:"0",taskStatus:"9",taskId:"",page:1},pagination:{totalCount:1,pageSize:10},list:[]}},methods:{updateReleaseStatus:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.mission.updateReleaseStatus({taskId:t.tid,taskStatus:a});case 2:r=e.sent,100===r.data.code&&(this.$message.success("操作成功"),this.getList());case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),foundation:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t,a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.mission.foundation({status:a,tId:t.tid});case 2:r=e.sent,100===r.data.code&&(this.$message.success("操作成功"),this.getList());case 4:case"end":return e.stop()}},e,this)}));function t(t,a){return e.apply(this,arguments)}return t}(),getList:function(){var e=this,t=this.$route.query,a=t.taskStatus,r=t.taskId,s=t.page,n=t.userType;this.form.taskStatus=a||"9",this.form.userType=n||"0",this.form.taskId=r||"",this.form.page=+s||1;var i=Object(b["a"])({},this.form,{pageSize:this.pagination.pageSize});API.mission.taskView(i).then(function(t){100===t.data.code&&(e.list=t.data.data.list,e.pagination.totalCount=t.data.data.total)})},search:function(){this.appendSearchParamsToRoute(Object(b["a"])({},this.form)),this.getList()}}},W=V,J=Object(c["a"])(W,j,F,!1,null,null,null),K=J.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("table",{staticClass:"page-table-info mb30"},[a("tr",[a("th",[e._v("编号：")]),a("td",[e._v(e._s(e.taskInfo.tid))]),a("th",[e._v("平台：")]),a("td",[e._v(e._s(e.taskInfo.platformName))])]),a("tr",[a("th",[e._v("用户：")]),a("td",[e._v(e._s(e.taskInfo.userName))]),a("th",[e._v("类型：")]),a("td",[e._v(e._s(e.taskInfo.typeName))])]),a("tr",[a("th",[e._v("链接：")]),a("td",[a("a",{attrs:{href:e.taskInfo.tlink,target:"_blank"}},[e._v(e._s(e.taskInfo.tlink))])]),a("th",[e._v("数量：")]),a("td",[a("span",{staticClass:"mr15"},[e._v(e._s(e.taskInfo.trequiredquan)+"/"+e._s(e.taskInfo.tleftquan))]),e.isReleaseTaskCheck||e.isReceiveTaskCheck?e._e():a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isDialogShow=!0}}},[e._v("增加数量")])],1)]),a("tr",[a("th",[e._v("金额：")]),a("td",[e._v(e._s(e.taskInfo.tamount))]),a("th",[e._v("状态：")]),a("td",[e._v(e._s(e.missionStatus[e.taskInfo.tstatus]))])]),a("tr",[a("th",[e._v("方向：")]),a("td",{attrs:{colspan:"3"}},[e._v(e._s(e.taskInfo.tdirection))])])]),e.isReleaseTaskCheck?a("el-form",{ref:"releaseTaskForm",attrs:{"label-width":"120px","label-position":"right",model:e.releaseTaskForm}},[a("el-form-item",{attrs:{label:"接单次数上限：",prop:"receiveLimit",rules:{required:!0,message:"请输入接单次数上限："}}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入",clearable:""},model:{value:e.releaseTaskForm.receiveLimit,callback:function(t){e.$set(e.releaseTaskForm,"receiveLimit",t)},expression:"releaseTaskForm.receiveLimit"}})],1),a("el-form-item",{attrs:{label:"兼职是否可见：",prop:""}},[a("el-radio-group",{model:{value:e.releaseTaskForm.visible,callback:function(t){e.$set(e.releaseTaskForm,"visible",t)},expression:"releaseTaskForm.visible"}},[a("el-radio",{attrs:{label:"0"}},[e._v("不可见")]),a("el-radio",{attrs:{label:"1"}},[e._v("可见")])],1)],1),a("el-form-item",{attrs:{label:"超时时间：",prop:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.releaseTaskForm.timeout,callback:function(t){e.$set(e.releaseTaskForm,"timeout",t)},expression:"releaseTaskForm.timeout"}},e._l(e.timeout,function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})}),1)],1),a("el-form-item",{attrs:{label:"是否通过：",prop:""}},[a("el-radio-group",{model:{value:e.releaseTaskForm.taskStatus,callback:function(t){e.$set(e.releaseTaskForm,"taskStatus",t)},expression:"releaseTaskForm.taskStatus"}},[a("el-radio",{attrs:{label:"1"}},[e._v("通过")]),a("el-radio",{attrs:{label:"4"}},[e._v("不通过")])],1)],1),e.isReleaseTaskCheck&&"4"===e.releaseTaskForm.taskStatus?a("el-form-item",{attrs:{label:"不通过原因：",prop:"cause",rules:{required:!0,message:"请输入原因"}}},[a("el-input",{staticClass:"w600",attrs:{placeholder:"请输入不通过原因",clearable:"",type:"textarea"},model:{value:e.form.cause,callback:function(t){e.$set(e.form,"cause",t)},expression:"form.cause"}})],1):e._e()],1):e._e(),e.isReceiveTaskCheck?a("el-form",{ref:"receiveTaskForm",attrs:{"label-width":"120px","label-position":"right",model:e.receiveTaskForm}},[a("el-form-item",{attrs:{label:"是否通过：",prop:""}},[a("el-radio-group",{model:{value:e.receiveTaskForm.taskStatus,callback:function(t){e.$set(e.receiveTaskForm,"taskStatus",t)},expression:"receiveTaskForm.taskStatus"}},[a("el-radio",{attrs:{label:"2"}},[e._v("已完成")]),a("el-radio",{attrs:{label:"3"}},[e._v("未达标")])],1)],1),e.isReceiveTaskCheck&&"3"===e.receiveTaskForm.taskStatus?a("el-form-item",{attrs:{label:"不通过原因：",prop:"cause",rules:{required:!0,message:"请输入原因"}}},[a("el-input",{staticClass:"w600",attrs:{placeholder:"请输入不通过原因",clearable:"",type:"textarea"},model:{value:e.receiveTaskForm.cause,callback:function(t){e.$set(e.receiveTaskForm,"cause",t)},expression:"receiveTaskForm.cause"}})],1):e._e()],1):e._e(),a("div",{staticClass:"page-foot"},[e.isReleaseTaskCheck||e.isReceiveTaskCheck?a("el-button",{attrs:{type:"primary"},on:{click:e.check}},[e._v("提交")]):e._e(),e.isOnline?a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("完成任务")]):e._e(),a("el-button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])],1),a("el-dialog",{attrs:{width:"30%",visible:e.isDialogShow,title:"增加数量"},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{ref:"dForm",attrs:{"label-width":"100px","label-position":"right",model:e.dForm}},[a("el-form-item",[e._v("目前数量为"+e._s(e.taskInfo.trequiredquan)+"，单价为"+e._s(e.taskInfo.tunitprice)+"元")]),a("el-form-item",{attrs:{label:"数量：",prop:"addQuantity",rules:{required:!0,message:"请输入数量"}}},[a("el-input",{attrs:{placeholder:"请输入数量",clearable:""},model:{value:e.dForm.addQuantity,callback:function(t){e.$set(e.dForm,"addQuantity",t)},expression:"dForm.addQuantity"}})],1)],1),a("div",{staticClass:"d-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.addQ}},[e._v("提交 ")]),a("el-button",{on:{click:function(t){e.isDialogShow=!1}}},[e._v("取消")])],1)],1)],1)},Z=[],H={data:function(){return{missionStatus:M,form:{},releaseTaskForm:{taskId:"",receiveLimit:"",visible:"0",timeout:"1",cause:"",taskStatus:"1"},receiveTaskForm:{taskId:"",releaseTaskId:"",cause:"",taskStatus:"1"},timeout:{1:"半小时",2:"一小时",3:"三小时",4:"一天"},dForm:{addQuantity:""},isDialogShow:!1,info:{taskMap:{ReleaseTask:{}}},taskInfo:{}}},computed:{isOnline:function(){return"online"===this.$route.query.operateType},isReleaseTaskCheck:function(){return"releaseTaskCheck"===this.$route.query.operateType},isReceiveTaskCheck:function(){return"receiveTaskCheck"===this.$route.query.operateType}},methods:{check:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.isReleaseTaskCheck){e.next=12;break}return e.next=3,this.$refs.releaseTaskForm.validate();case 3:if(t=e.sent,t){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,API.mission.checkReleaseTask(this.releaseTaskForm);case 8:a=e.sent,100===a.data.code&&(this.$message.success("操作成功"),this.$router.go(-1)),e.next=22;break;case 12:if(!this.isReceiveTaskCheck){e.next=22;break}return e.next=15,this.$refs.receiveTaskForm.validate();case 15:if(r=e.sent,r){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,API.mission.updateReceiveStatus(this.receiveTaskForm);case 20:s=e.sent,100===s.data.code&&(this.$message.success("操作成功"),this.$router.go(-1));case 22:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.mission.updateReleaseStatus({taskId:this.taskInfo.tid,taskStatus:3});case 2:t=e.sent,100===t.data.code&&(this.$message.success("操作成功"),this.$router.go(-1));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),addQ:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.dForm.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,API.mission.addQuantity({taskId:this.taskInfo.tid,requiredQuantity:this.taskInfo.trequiredquan,leftQuantity:this.taskInfo.tleftquan,unitPrice:this.taskInfo.tunitprice,addQuantity:this.dForm.addQuantity});case 7:a=e.sent,100===a.data.code&&(this.$message.success("添加成功"),this.isDialogShow=!1,this.getInfo());case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getInfo:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query,a=t.taskId,r=t.taskType,s=t.taskAddUserType,n=t.releaseTaskId,this.form={taskId:a,taskType:r,taskAddUserType:s},this.releaseTaskForm.taskId=this.receiveTaskForm.taskId=a,this.releaseTaskForm.releaseTaskId=n,this.receiveTaskForm.releaseTaskId=n,e.next=7,API.mission.taskDetail(this.form);case 7:i=e.sent,100===i.data.code&&(this.info=i.data.data,this.taskInfo=i.data.data.taskMap.ReceiveTask||i.data.data.taskMap.ReleaseTask);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.getInfo()}},X=H,ee=Object(c["a"])(X,Y,Z,!1,null,null,null),te=ee.exports,ae=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("el-row",{staticClass:"page-searchbar",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-select",{staticClass:"w100",attrs:{placeholder:"请选择"},model:{value:e.form.taskType,callback:function(t){e.$set(e.form,"taskType",t)},expression:"form.taskType"}},e._l(e.items,function(e){return a("el-option",{attrs:{value:e.value,label:e.name}})}),1)],1),a("el-col",{attrs:{span:6}},[a("el-select",{staticClass:"w100",attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.userType,callback:function(t){e.$set(e.form,"userType",t)},expression:"form.userType"}},[a("el-option",{attrs:{value:"0",label:"后台"}}),a("el-option",{attrs:{value:"1",label:"客户"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"w100",attrs:{placeholder:"请输入",clearable:""},model:{value:e.form.taskId,callback:function(t){e.$set(e.form,"taskId",t)},expression:"form.taskId"}})],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:"ReleaseTask"===e.taskType,expression:'taskType === "ReleaseTask"'}],staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"发布任务编号",prop:"tid"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{name:"missionCheck",query:{operateType:"releaseTaskCheck",taskType:e.taskType,taskId:r.tid,taskAddUserType:r.taddUserType}}}},[e._v(e._s(r.tid))])]}}])}),a("el-table-column",{attrs:{label:"平台",prop:"platformName"}}),a("el-table-column",{attrs:{label:"用户名",prop:"userName"}}),a("el-table-column",{attrs:{label:"时间",prop:"tdate"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e._f("formatTime")(a.tdate)))]}}])}),a("el-table-column",{attrs:{label:"方向",prop:"tdirection"}}),a("el-table-column",{attrs:{label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.trequiredquan)+"/"+e._s(a.tleftquan))]}}])})],1),a("el-table",{directives:[{name:"show",rawName:"v-show",value:"ReceiveTask"===e.taskType,expression:'taskType === "ReceiveTask"'}],staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"接单任务编号",prop:"tid"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{name:"missionCheck",query:{operateType:"receiveTaskCheck",releaseTaskId:r.ttid,taskType:e.taskType,taskId:r.tid,taskAddUserType:r.tAddUserType}}}},[e._v(e._s(r.tid))])]}}])}),a("el-table-column",{attrs:{label:"发布任务编号",prop:"ttid"}}),a("el-table-column",{attrs:{label:"平台",prop:"platformName"}}),a("el-table-column",{attrs:{label:"用户",prop:"userName"}})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.form.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}})],1)},re=[],se={mixins:[B],data:function(){return{form:{taskType:"ReleaseTask",userType:"0",taskId:"",page:1},pagination:{totalCount:1,pageSize:20},items:[{value:"ReceiveTask",name:"驳回任务"},{value:"ReleaseTask",name:"发布任务"}],list:[]}},computed:{taskType:function(){return this.$route.query.taskType||"ReleaseTask"}},methods:{getList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,n,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query,a=t.taskType,r=t.taskId,s=t.userType,n=t.page,this.form.taskType=a||"ReleaseTask",this.form.userType=s||"0",this.form.taskId=r||"",this.form.page=+n||1,i=Object(b["a"])({},this.form,{pageSize:this.pagination.pageSize}),e.next=8,API.mission.taskCheck(i);case 8:o=e.sent,100===o.data.code&&(this.list=o.data.data.list,this.pagination.totalCount=o.data.data.total);case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),search:function(){this.appendSearchParamsToRoute(Object(b["a"])({},this.form)),this.getList()}}},ne=se,ie=Object(c["a"])(ne,ae,re,!1,null,null,null),oe=ie.exports,le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("el-row",{staticClass:"page-searchbar",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-select",{staticClass:"w100",attrs:{placeholder:"请选择",clearable:""},model:{value:e.form.taskStatus,callback:function(t){e.$set(e.form,"taskStatus",t)},expression:"form.taskStatus"}},e._l(e.missionStatus1,function(e,t){return a("el-option",{attrs:{value:t,label:e}})}),1)],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"接单编号",prop:"tid"}}),a("el-table-column",{attrs:{label:"发布编号",prop:"ttid"}}),a("el-table-column",{attrs:{label:"兼职编号",prop:"trid"}}),a("el-table-column",{attrs:{label:"用户名",prop:"userName"}}),a("el-table-column",{attrs:{label:"反馈截图",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return e._l(r.screenShotList,function(e){return a("a",{attrs:{href:e,target:"_blank"}},[a("img",{attrs:{src:e,height:"50"}})])})}}])}),a("el-table-column",{attrs:{label:"原因",prop:"trefuseCause"}}),a("el-table-column",{attrs:{label:"时间",prop:"tdate",formatter:e.timeFormater}}),a("el-table-column",{attrs:{label:"任务状态",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(e.missionStatus1[a.tstatus]))]}}])}),a("el-table-column",{attrs:{label:"操作",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[1===r.tstatus||4===r.tstatus?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.updateReceiveStatus(r,2)}}},[e._v("通过")]):e._e(),1===r.tstatus||4===r.tstatus?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.updateReceiveStatus(r,3)}}},[e._v("不通过")]):e._e(),1===r.tstatus?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.updateReceiveStatus(r,4)}}},[e._v("驳回")]):e._e()]}}])})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.form.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}}),a("el-dialog",{attrs:{visible:e.isDialogShow,title:"审核任务",width:"30%"},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{attrs:{"label-width":"60px","label-position":"right"}},[a("el-form-item",{attrs:{label:"原因：",prop:""}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入原因",type:"textarea",rows:"6",clearable:""},model:{value:e.dForm.cause,callback:function(t){e.$set(e.dForm,"cause",t)},expression:"dForm.cause"}})],1)],1),a("div",{staticClass:"p-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.doUpdateReceiveStatus}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.isDialogShow=!1}}},[e._v("取消")])],1)],1)],1)},ce=[];function ue(e){return e<10?"0"+e:e}function pe(e){try{var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(ue(t.getMonth()+1),"-").concat(ue(t.getDate())," ").concat(ue(t.getHours()),":").concat(ue(t.getMinutes()))}catch(a){return""}}var me={mixins:[B],data:function(){return{ENV:ENV,missionStatus1:E,form:{releaseTaskId:"",taskId:"",taskStatus:"0",page:1},pagination:{totalCount:1,pageSize:10},list:[],isDialogShow:!1,dForm:{cause:"",taskId:"",taskStatus:""}}},methods:{updateReceiveStatus:function(e,t){2===t?this.doUpdateReceiveStatus(e,t):(this.isDialogShow=!0,this.dForm.cause="",this.dForm.taskId=e.tid,this.dForm.taskStatus=t)},doUpdateReceiveStatus:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.mission.updateReceiveStatus(Object(b["a"])({},this.dForm,{releaseTaskId:this.$route.query.releaseTaskId}));case 2:t=e.sent,100===t.data.code&&(this.$message.success("操作成功"),this.isDialogShow=!1,this.getList());case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),timeFormater:function(e,t,a,r){return pe(a)},getList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,n,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query,a=t.releaseTaskId,r=t.taskStatus,s=t.taskId,n=t.page,this.form.releaseTaskId=a,this.form.taskStatus=r||"0",this.form.taskId=s||"",this.form.page=+n||1,i=Object(b["a"])({},this.form,{pageSize:this.pagination.pageSize}),e.next=8,API.mission.receiveTaskView(i);case 8:o=e.sent,100===o.data.code&&(this.list=o.data.data.receiveTask.list,this.pagination.totalCount=o.data.data.receiveTask.total);case 10:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),search:function(){this.appendSearchParamsToRoute(Object(b["a"])({},this.form)),this.getList()}}},de=me,fe=Object(c["a"])(de,le,ce,!1,null,null,null),he=fe.exports,ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-top-tip"},[e._v("朋友圈直发订单：产品单价为 "+e._s(e.form.unitPrice)+" 元/个，最低消费数量为 1 个。")]),a("el-form",{ref:"form",attrs:{"label-width":"120px","label-position":"right",model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"平台：",prop:""}},[a("el-select",{staticClass:"w300",attrs:{placeholder:"请选择"},on:{change:e.getParentCategoryList},model:{value:e.form.platform,callback:function(t){e.$set(e.form,"platform",t)},expression:"form.platform"}},e._l(e.platformList,function(e,t){return a("el-option",{attrs:{value:e.pid,label:e.pname}})}),1)],1),a("el-form-item",{attrs:{label:"一级类型：",prop:""}},[a("el-select",{staticClass:"w300",attrs:{placeholder:"请选择"},on:{change:e.getChildCategoryList},model:{value:e.form.taskType,callback:function(t){e.$set(e.form,"taskType",t)},expression:"form.taskType"}},e._l(e.parentCategoryList,function(e,t){return a("el-option",{attrs:{value:e.tid,label:e.tname}})}),1)],1),a("el-form-item",{attrs:{label:"二级类型：",prop:""}},[a("el-select",{staticClass:"w300",attrs:{placeholder:"请选择"},model:{value:e.form.taskTypeDetail,callback:function(t){e.$set(e.form,"taskTypeDetail",t)},expression:"form.taskTypeDetail"}},e._l(e.childCategoryList,function(e,t){return a("el-option",{attrs:{value:e.did,label:e.dname}})}),1)],1),a("el-form-item",{attrs:{label:"方向选择：",prop:""}},[a("el-select",{staticClass:"w300",attrs:{placeholder:"请选择"},model:{value:e.form.direction,callback:function(t){e.$set(e.form,"direction",t)},expression:"form.direction"}},[a("el-option",{attrs:{value:"0",label:"真人自由发挥"}}),a("el-option",{attrs:{value:"1",label:"指定方向"}}),a("el-option",{attrs:{value:"2",label:"指定文案"}})],1)],1),"1"===e.form.direction?[a("el-form-item",{attrs:{label:"方向：",prop:""}},[a("el-input",{staticClass:"w600",attrs:{placeholder:"请输入方向",type:"textarea",clearable:""},model:{value:e.form.direction1,callback:function(t){e.$set(e.form,"direction1",t)},expression:"form.direction1"}})],1),a("el-form-item",{attrs:{label:"方向图片：",prop:""}},[a("paste-upload",{ref:"dPasteUploader",on:{success:e.handlePasteUploadSuccess}})],1),a("el-form-item",{attrs:{label:"方向图片：",prop:""}},[a("el-upload",{attrs:{action:e.action,name:"files","file-list":e.fileList,"list-type":"picture-card","on-success":e.handleUploadSuccessForDirection,"on-remove":e.handleRemoveForDirection}},[a("i",{staticClass:"el-icon-plus"}),a("div",{staticClass:"upload-tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传gif/jpg/jpeg/png文件")])])],1)]:e._e(),"2"===e.form.direction?[a("el-form-item",{attrs:{label:"文案内容：",prop:""}},[a("el-input",{staticClass:"w600",attrs:{placeholder:"请输入文案内容，多条文案请用 回车换行",clearable:"",type:"textarea",rows:"6"},model:{value:e.form.words,callback:function(t){e.$set(e.form,"words",t)},expression:"form.words"}}),a("div",{staticClass:"page-tip"},[e._v("已输入"+e._s(e.form.content.length)+"条文案")])],1),a("el-form-item",{attrs:{label:"文案图片：",prop:""}},[a("paste-upload",{ref:"cPasteUploader",on:{success:e.handlePasteUploadSuccess}})],1),a("el-form-item",{attrs:{label:"文案图片：",prop:""}},[a("el-upload",{attrs:{action:e.action,name:"files","file-list":e.fileList,"list-type":"picture-card","on-success":e.handleUploadSuccessForContent,"on-remove":e.handleRemoveForContent}},[a("i",{staticClass:"el-icon-plus"}),a("div",{staticClass:"upload-tip",attrs:{slot:"tip"},slot:"tip"},[e._v("手动上传，只能上传gif/jpg/jpeg/png文件")])])],1)]:e._e(),a("el-form-item",{attrs:{label:"链接和数量："}},[a("el-input",{staticClass:"w600",attrs:{placeholder:"请输入链接和数量，用|分隔，如http://www.xxx.com|100，多条数据用 回车换行",rows:"6",type:"textarea",clearable:""},model:{value:e.form.BatchList1,callback:function(t){e.$set(e.form,"BatchList1",t)},expression:"form.BatchList1"}})],1),a("el-form-item",{attrs:{label:"备注："}},[a("el-input",{staticClass:"w600",attrs:{placeholder:"请输入备注",type:"textarea",clearable:""},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1),a("el-form-item",{attrs:{label:"",prop:""}},[a("el-checkbox",{attrs:{label:"1","true-label":"1","false-label":"0"},model:{value:e.form.fixedRemark,callback:function(t){e.$set(e.form,"fixedRemark",t)},expression:"form.fixedRemark"}},[e._v("【记得互相点赞好评！优先点赞带图评论！】")])],1),a("el-form-item",{attrs:{label:"",prop:""}},[a("el-button",{attrs:{type:"primary",loading:e.isSubmitting},on:{click:e.submit}},[e._v("发布任务")])],1)],2)],1)},be=[],ve=(a("28a5"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"paste-wrap"},[a("div",{ref:"wrap",staticClass:"paste-upload-wrap",attrs:{contenteditable:"true"},on:{paste:function(t){return e.paste(t)}}}),a("div",{staticClass:"paste-tip"},[e._v("使用微信、QQ的截图工具进行截图，直接粘贴即可上传图片")])])}),ke=[];function ye(e,t,a){var r;r=a.response?"".concat(a.response.error||a.response):a.responseText?"".concat(a.responseText):"fail to post ".concat(e," ").concat(a.status);var s=new Error(r);return s.status=a.status,s.method="post",s.url=e,s}function we(e){var t=e.responseText||e.response;if(!t)return t;try{return JSON.parse(t)}catch(a){return t}}function Te(e){if(console.log("option",e),"undefined"!==typeof XMLHttpRequest){var t=new XMLHttpRequest,a=e.action;t.upload&&(t.upload.onprogress=function(e){e.total>0&&(e.percent=e.loaded/e.total*100)});var r=new FormData;e.data&&U()(e.data).forEach(function(t){r.append(t,e.data[t])}),r.append(e.filename,e.file,e.file.name),t.onerror=function(t){e.onError(t)},t.onload=function(){if(t.status<200||t.status>=300)return e.onError(ye(a,e,t));e.onSuccess(we(t))},t.open("post",a,!0),e.withCredentials&&"withCredentials"in t&&(t.withCredentials=!0);var s=e.headers||{};for(var n in s)s.hasOwnProperty(n)&&null!==s[n]&&t.setRequestHeader(n,s[n]);return t.send(r),t}}var xe={data:function(){return{fileList:[],ENV:ENV}},methods:{paste:function(e){e.preventDefault();var t=this;console.log("e",e,e.clipboardData.files,e.clipboardData.items);var a=e.clipboardData.files;a.length?Te({filename:"files",action:"".concat(ENV,"/Task/uploadMedia"),file:a[0],onSuccess:function(e){t.createImg(e.data)}}):this.$message.warning("粘贴的不是截图，请重新截图")},createImg:function(e){var t=document.createElement("img");t.className="paste-img",t.src="".concat(ENV).concat(e),t.dataset.src=e,this.$refs.wrap.appendChild(t)},getFileList:function(){var e=this.$refs.wrap.querySelectorAll(".paste-img"),t=[];return Array.prototype.forEach.call(e,function(e){t.push(e.dataset.src)}),t}}},Ce=xe,Se=(a("e777"),Object(c["a"])(Ce,ve,ke,!1,null,null,null)),_e=Se.exports,Ie={data:function(){return{isSubmitting:!1,form:{unitPrice:0,platform:"",taskType:"",taskTypeDetail:"",direction:"0",direction1:"",words:"",link:"",count:"",remark:"",fixedRemark:"0",contentMedia:[],content:[],directionMedia:[],BatchList1:"",BatchList:[]},rules:{link:[{required:!0,message:"请输入链接"}],count:[{required:!0,message:"请输入数量"}],remark:[{required:!0,message:"请输入备注"}]},action:"".concat(ENV,"/Task/uploadMedia"),fileList:[],platformList:[],parentCategoryList:[],childCategoryList:[],direction:{0:"真人自由发挥",1:"指定方向",2:"指定文案"},pasteList:[]}},methods:{handlePasteUploadSuccess:function(e){this.pasteList.push(e.data)},submit:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.form.validate(function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(a){var r,s,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=18;break}return r=JSON.parse(g()(t.form)),"1"===r.direction&&(s=t.$refs.dPasteUploader.getFileList(),r.directionMedia=r.contentMedia.concat(s)),"2"===r.direction&&(n=t.$refs.cPasteUploader.getFileList(),r.contentMedia=r.contentMedia.concat(n)),t.isSubmitting=!0,r.contentMedia=g()(r.contentMedia),r.content=g()(r.content),r.directionMedia=g()(r.directionMedia),r.BatchList=g()(r.BatchList),"1"===r.direction?r.direction=r.direction1:r.direction=t.direction[r.direction],delete r.words,delete r.direction1,delete r.BatchList1,e.next=15,API.mission.doPublish(r);case 15:i=e.sent,t.isSubmitting=!1,100===i.data.code&&(t.$message.success("提交成功"),t.$router.go(-1));case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleUploadSuccessForDirection:function(e,t,a){this.form.directionMedia.push(e.data)},handleUploadSuccessForContent:function(e,t,a){console.log("success",e,t,a),this.form.contentMedia.push(e.data),this.fileList=a},handleRemoveForDirection:function(e,t){this.form.directionMedia.splice(this.form.directionMedia.indexOf(e.response.data),1)},handleRemoveForContent:function(e,t){console.log("remove",e,t),this.form.contentMedia.splice(this.form.contentMedia.indexOf(e.response.data),1)},getPlatformList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.platform.searchAll();case 2:t=e.sent,100===t.data.code&&(this.platformList=t.data.data,this.form.platform=t.data.data[0].pid,this.getParentCategoryList(this.form.platform));case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getParentCategoryList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.mission.getTaskType({platform:t});case 2:a=e.sent,100===a.data.code&&(this.parentCategoryList=a.data.data,this.form.taskType=this.parentCategoryList[0].tid,this.getChildCategoryList(this.form.taskType));case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getChildCategoryList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.mission.getTaskTypeDetail({fatherTaskType:t});case 2:a=e.sent,100===a.data.code&&(this.childCategoryList=a.data.data,this.form.taskTypeDetail=this.childCategoryList[0].did);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},watch:{"form.BatchList1":function(e){this.form.BatchList=""!==e?e.split("\n"):[]},"form.words":function(e){this.form.content=""!==e?e.split("\n"):[]},"form.taskTypeDetail":function(e){var t=this;this.parentCategoryList.forEach(function(a){a.tid===t.form.taskType&&(0===a.tunit?t.childCategoryList.forEach(function(a){a.did===e&&(t.form.unitPrice=a.unitPrice)}):t.form.unitPrice=a.tunit)})}},components:{PasteUpload:_e},mounted:function(){this.getPlatformList()}},Re=Ie,De=Object(c["a"])(Re,ge,be,!1,null,"70b1c4c2",null),$e=De.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-operatebar"},[a("el-button",{attrs:{type:"primary"},on:{click:e.create}},[e._v("新建平台")])],1),a("el-table",{attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"平台编号",prop:"pid"}}),a("el-table-column",{attrs:{label:"平台名称",prop:"pname"}}),a("el-table-column",{attrs:{label:"logo"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("img",{staticStyle:{"vertical-align":"middle"},attrs:{src:""+e.ENV+r.plogo,width:"30"}})]}}])}),a("el-table-column",{attrs:{label:"操作",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$router.push({name:"categoryList",query:{platformId:r.pid,pname:r.pname}})}}},[e._v("查看任务类型")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.editName(r)}}},[e._v("修改名称")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.delPlatform(r)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{visible:e.isDialogShow1,title:"修改平台名称",width:"50%"},on:{"update:visible":function(t){e.isDialogShow1=t}}},[a("el-form",{attrs:{"label-width":"120px","label-position":"right"}},[a("el-form-item",{attrs:{label:"平台名称：",prop:""}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入平台名称",clearable:""},model:{value:e.form1.platformName,callback:function(t){e.$set(e.form1,"platformName",t)},expression:"form1.platformName"}})],1)],1),a("div",{staticClass:"p-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.edit}},[e._v("修改")]),a("el-button",{on:{click:function(t){e.isDialogShow1=!1}}},[e._v("取消")])],1)],1),a("el-dialog",{attrs:{visible:e.isDialogShow,title:"新建平台",width:"50%"},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"120px","label-position":"right",model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"名称:",prop:"platformName"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入名称",clearable:""},model:{value:e.form.platformName,callback:function(t){e.$set(e.form,"platformName",t)},expression:"form.platformName"}})],1),a("el-form-item",{attrs:{label:"任务账号上限：",prop:"taskAccountLimit"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入任务账号上限",clearable:""},model:{value:e.form.taskAccountLimit,callback:function(t){e.$set(e.form,"taskAccountLimit",t)},expression:"form.taskAccountLimit"}})],1),a("el-form-item",{attrs:{label:"任务账号类型：",prop:""}},[a("el-select",{staticClass:"w300",attrs:{placeholder:"请选择任务账号类型"},model:{value:e.form.taskAccountType,callback:function(t){e.$set(e.form,"taskAccountType",t)},expression:"form.taskAccountType"}},[a("el-option",{attrs:{value:"1",label:"uid"}}),a("el-option",{attrs:{value:"2",label:"账号名称"}})],1)],1),a("el-form-item",{attrs:{label:"logo:",prop:"file"}},[a("el-upload",{attrs:{"auto-upload":!1,action:e.action,"list-type":"picture-card",limit:1,"on-change":e.handleChange,"on-remove":e.handleRemove}},[a("i",{staticClass:"el-icon-plus"}),a("div",{staticClass:"upload-tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])])],1)],1),a("div",{staticClass:"p-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("创建")]),a("el-button",{on:{click:function(t){e.isDialogShow=!1}}},[e._v("取消")])],1)],1)],1)},Pe=[],Ae={data:function(){return{ENV:ENV,form:{platformName:"",file:null,taskAccountLimit:"",taskAccountType:"1"},rules:{platformName:[{required:!0,message:"请输入平台名称"}],taskAccountLimit:[{required:!0,message:"请输入任务账号上限"}],file:[{required:!0,message:"请上传logo"}]},fileList:[],isDialogShow:!1,isDialogShow1:!1,form1:{platformName:"",platformId:""},list:[],action:"".concat(ENV,"/Task/uploadMedia")}},methods:{editName:function(e){this.isDialogShow1=!0,this.form1.platformName=e.pname,this.form1.platformId=e.pid},edit:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.mission.editPlatform(this.form1);case 2:t=e.sent,100===t.data.code&&(this.$message.success("修改成功"),this.isDialogShow1=!1,this.getPlatformList());case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),delPlatform:function(e){var t=this;this.$confirm("此操作将删除该平台, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(v["a"])(regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,API.mission.delPlatform({platformId:e.pid});case 2:r=a.sent,100===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getPlatformList());case 4:case"end":return a.stop()}},a)})))},submit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(a){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,API.mission.addPlatform(e.form);case 3:r=t.sent,100===r.data.code&&(e.$message.success("添加成功"),e.isDialogShow=!1,e.$refs.form.resetFields(),e.getPlatformList());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},handleChange:function(e,t){console.log("f",e),this.form.file=e.raw},handleRemove:function(){this.form.file=null},create:function(){this.isDialogShow=!0},getPlatformList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.mission.getPlatformList();case 2:t=e.sent,100===t.data.code&&(this.list=t.data.data);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.getPlatformList()}},Oe=Ae,je=Object(c["a"])(Oe,Le,Pe,!1,null,"4fc687fa",null),Fe=je.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-top-tip"},[e._v("平台名称："+e._s(e.$route.query.pname))]),a("div",{staticClass:"page-operatebar"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isDialogShow=!0}}},[e._v("添加任务类型")])],1),a("el-table",{attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"任务类型名称\t",prop:"tname"}}),a("el-table-column",{attrs:{label:"单价（元）",prop:"tunit"}}),a("el-table-column",{attrs:{label:"兼职单价（元）",prop:"receiverUnit"}}),a("el-table-column",{attrs:{label:"操作",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$router.push({name:"childCategoryList",query:{fatherTaskType:r.tid,tname:r.tname}})}}},[e._v("查看子类型")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.delPlatform(r)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{visible:e.isDialogShow,title:"新建平台",width:"50%"},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"120px","label-position":"right",model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"名称:",prop:"taskTypeName"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入名称",clearable:""},model:{value:e.form.taskTypeName,callback:function(t){e.$set(e.form,"taskTypeName",t)},expression:"form.taskTypeName"}})],1),a("el-form-item",{attrs:{label:"单价",prop:"taskTypeUnit"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入单价",clearable:""},model:{value:e.form.taskTypeUnit,callback:function(t){e.$set(e.form,"taskTypeUnit",t)},expression:"form.taskTypeUnit"}})],1),a("el-form-item",{attrs:{label:"兼职单价",prop:"receiverUnit"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入兼职单价",clearable:""},model:{value:e.form.receiverUnit,callback:function(t){e.$set(e.form,"receiverUnit",t)},expression:"form.receiverUnit"}})],1)],1),a("div",{staticClass:"p-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("创建")]),a("el-button",{on:{click:function(t){e.isDialogShow=!1}}},[e._v("取消")])],1)],1)],1)},Ue=[],Be={data:function(){return{ENV:ENV,form:{taskTypeName:"",taskTypeUnit:"",receiverUnit:"",taskTypePlatform:""},rules:{taskTypeName:[{required:!0,message:"请输入平台名称"}],taskTypeUnit:[{required:!0,message:"请输入单价"}],receiverUnit:[{required:!0,message:"请输入兼职单价"}]},fileList:[],isDialogShow:!1,isDialogShow1:!1,form1:{platformName:"",platformId:""},list:[],action:"".concat(ENV,"/Task/uploadMedia")}},methods:{delPlatform:function(e){var t=this;this.$confirm("此操作将删除该类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(v["a"])(regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,API.mission.delPC({taskTypeId:e.tid});case 2:r=a.sent,100===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getPCList());case 4:case"end":return a.stop()}},a)})))},submit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(a){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,API.mission.addPC(e.form);case 3:r=t.sent,100===r.data.code&&(e.$message.success("添加成功"),e.isDialogShow=!1,e.form={taskTypeName:"",taskTypeUnit:"",receiverUnit:"",taskTypePlatform:e.$route.query.platformId},e.getPCList());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},getPCList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.form.taskTypePlatform=this.$route.query.platformId,e.next=3,API.mission.getPCList({platformId:this.form.taskTypePlatform});case 3:t=e.sent,100===t.data.code&&(this.list=t.data.data.taskTypeList);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.getPCList()}},Me=Be,Ee=Object(c["a"])(Me,Ne,Ue,!1,null,"6302549b",null),qe=Ee.exports,ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-top-tip"},[e._v("上级类型名称："+e._s(e.$route.query.tname))]),a("div",{staticClass:"page-operatebar"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isDialogShow=!0}}},[e._v("添加子任务类型")])],1),a("el-table",{attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"子任务类型名称",prop:"dname"}}),a("el-table-column",{attrs:{label:"单价（元）",prop:"unitPrice"}}),a("el-table-column",{attrs:{label:"兼职单价（元）",prop:"receiverUnit"}}),a("el-table-column",{attrs:{label:"操作",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.delPlatform(r)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{visible:e.isDialogShow,title:"新建平台",width:"50%"},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"120px","label-position":"right",model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"名称:",prop:"taskTypeName"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入名称",clearable:""},model:{value:e.form.taskTypeName,callback:function(t){e.$set(e.form,"taskTypeName",t)},expression:"form.taskTypeName"}})],1),a("el-form-item",{attrs:{label:"单价",prop:"unitPrice"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入单价",clearable:""},model:{value:e.form.unitPrice,callback:function(t){e.$set(e.form,"unitPrice",t)},expression:"form.unitPrice"}})],1),a("el-form-item",{attrs:{label:"兼职单价",prop:"receiverUnit"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入兼职单价",clearable:""},model:{value:e.form.receiverUnit,callback:function(t){e.$set(e.form,"receiverUnit",t)},expression:"form.receiverUnit"}})],1)],1),a("div",{staticClass:"p-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("创建")]),a("el-button",{on:{click:function(t){e.isDialogShow=!1}}},[e._v("取消")])],1)],1)],1)},Qe=[],Ge={data:function(){return{ENV:ENV,form:{taskTypeName:"",unitPrice:"",receiverUnit:"",fatherTaskType:""},rules:{taskTypeName:[{required:!0,message:"请输入平台名称"}],unitPrice:[{required:!0,message:"请输入单价"}],receiverUnit:[{required:!0,message:"请输入兼职单价"}]},isDialogShow:!1,list:[]}},methods:{delPlatform:function(e){var t=this;this.$confirm("此操作将删除该类型, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(v["a"])(regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,API.mission.delSecondTaskType({fatherTaskType:t.form.fatherTaskType,taskTypeId:e.did});case 2:r=a.sent,100===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getAllSecondTaskType());case 4:case"end":return a.stop()}},a)})))},submit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(a){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,API.mission.addSecondTaskType(e.form);case 3:r=t.sent,100===r.data.code&&(e.$message.success("添加成功"),e.isDialogShow=!1,e.form={taskTypeName:"",unitPrice:"",receiverUnit:"",fatherTaskType:e.$route.query.fatherTaskType},e.getAllSecondTaskType());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},getAllSecondTaskType:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.form.fatherTaskType=this.$route.query.fatherTaskType,e.next=3,API.mission.getAllSecondTaskType({fatherTaskType:this.form.fatherTaskType});case 3:t=e.sent,100===t.data.code&&(this.list=t.data.data.taskTypeList);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.getAllSecondTaskType()}},Ve=Ge,We=Object(c["a"])(Ve,ze,Qe,!1,null,"6d234dd2",null),Je=We.exports,Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("el-row",{staticClass:"page-searchbar",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"w100",attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"用户编号"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{name:"userDetail",query:{id:r.cid,userType:e.form.userType}}}},[e._v(e._s(r.cid))])]}}])}),a("el-table-column",{attrs:{label:"用户名",prop:"cname"}})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.form.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}})],1)},Ye=[],Ze={mixins:[B],data:function(){return{userType:q,form:{userType:"Receiver",name:"",page:1},pagination:{totalCount:1,pageSize:10},list:[]}},methods:{getList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query,a=t.userType,r=t.name,s=t.page,this.form.userType=a||"Client",this.form.name=r||"",this.form.page=+s||1,n=Object(b["a"])({},this.form,{pageSize:this.pagination.pageSize}),e.next=7,API.user.getUserList(n);case 7:i=e.sent,100===i.data.code&&(this.list=i.data.data.list,this.pagination.totalCount=i.data.data.total);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),search:function(){this.appendSearchParamsToRoute(Object(b["a"])({},this.form)),this.getList()}}},He=Ze,Xe=Object(c["a"])(He,Ke,Ye,!1,null,null,null),et=Xe.exports,tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("el-row",{staticClass:"page-searchbar",attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-input",{staticClass:"w100",attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:6}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"用户编号"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("router-link",{attrs:{to:{name:"userDetail",query:{id:r.cid,userType:e.form.userType}}}},[e._v(e._s(r.cid))])]}}])}),a("el-table-column",{attrs:{label:"用户名",prop:"cname"}})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.form.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}})],1)},at=[],rt={mixins:[B],data:function(){return{userType:q,form:{userType:"Receiver",name:"",page:1},pagination:{totalCount:1,pageSize:10},list:[]}},methods:{getList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,n,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query,a=t.userType,r=t.name,s=t.page,this.form.userType=a||"Receiver",this.form.name=r||"",this.form.page=+s||1,n=Object(b["a"])({},this.form,{pageSize:this.pagination.pageSize}),e.next=7,API.user.getUserList(n);case 7:i=e.sent,100===i.data.code&&(this.list=i.data.data.list,this.pagination.totalCount=i.data.data.total);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),search:function(){this.appendSearchParamsToRoute(Object(b["a"])({},this.form)),this.getList()}}},st=rt,nt=Object(c["a"])(st,tt,at,!1,null,null,null),it=nt.exports,ot=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},lt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("table",{staticClass:"page-table-info mb30"},[a("tr",[a("th"),a("td")])])])}],ct={data:function(){return{form:{id:"",userStatus:"",userType:"",banType:"hour"}}},methods:{userDetail:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.form.id=this.$route.query.id,this.form.userType=this.$route.query.userType,e.next=4,API.user.userDetail({id:this.form.id,userType:this.form.userType});case 4:e.sent;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.userDetail()}},ut=ct,pt=Object(c["a"])(ut,ot,lt,!1,null,null,null),mt=pt.exports,dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-operatebar"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isDialogShow=!0}}},[e._v("添加管理员")])],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"用户名",prop:"aname"}}),a("el-table-column",{attrs:{label:"用户类型",prop:"atype"}}),a("el-table-column",{attrs:{label:"操作",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteAdmin(r)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.form.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}}),a("el-dialog",{attrs:{visible:e.isDialogShow,title:"添加管理员",width:"50%"},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"100px","label-position":"right",model:e.dForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"类型：",prop:""}},[a("el-select",{staticClass:"w300",attrs:{placeholder:"请选择"},model:{value:e.dForm.adminType,callback:function(t){e.$set(e.dForm,"adminType",t)},expression:"dForm.adminType"}},e._l(e.userType1,function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})}),1)],1),a("el-form-item",{attrs:{label:"用户名：",prop:"userName"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入用户名",clearable:""},model:{value:e.dForm.userName,callback:function(t){e.$set(e.dForm,"userName",t)},expression:"dForm.userName"}})],1),a("el-form-item",{attrs:{label:"密码：",prop:"password"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入密码",clearable:""},model:{value:e.dForm.password,callback:function(t){e.$set(e.dForm,"password",t)},expression:"dForm.password"}})],1),a("el-form-item",{attrs:{label:"头像：",prop:"file"}},[a("el-upload",{attrs:{action:"/api/file/upload","auto-upload":!1,"list-type":"picture-card",limit:1,"on-change":e.handleChange}},[a("i",{staticClass:"el-icon-plus"}),a("div",{staticClass:"c3",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])])],1)],1),a("div",{staticClass:"p-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.isDialogShow=!1}}},[e._v("取消")])],1)],1)],1)},ft=[],ht={mixins:[B],data:function(){return{userType1:z,form:{page:1},isDialogShow:!1,dForm:{adminType:"0",userName:"",password:"",file:null},rules:{userName:[{required:!0,message:"请输入用户名"}],password:[{required:!0,message:"请输入密码"}],file:[{required:!0,message:"请上传头像"}]},list:[],fileList:[],pagination:{totalCount:1,pageSize:10}}},methods:{deleteAdmin:function(e){var t=this;this.$confirm("此操作将删除该管理员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(v["a"])(regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,API.user.deleteAdmin({delUserId:e.aid});case 2:r=a.sent,100===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.getList());case 4:case"end":return a.stop()}},a)})))},submit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(a){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,API.user.addAdmin(e.dForm);case 3:r=t.sent,100===r.data.code&&(e.$message.success("新增成功"),e.isDialogShow=!1,e.$refs.form.resetFields(),e.getList());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},handleChange:function(e){this.dForm.file=e.raw},getList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query.page,this.form.page=+t||1,a=Object(b["a"])({},this.form,{pageSize:this.pagination.pageSize}),e.next=5,API.user.adminManagement(a);case 5:r=e.sent,100===r.data.code&&(this.list=r.data.data.list,this.pagination.totalCount=r.data.data.total);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),search:function(){this.appendSearchParamsToRoute(Object(b["a"])({},this.form)),this.getList()}}},gt=ht,bt=Object(c["a"])(gt,dt,ft,!1,null,null,null),vt=bt.exports,kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-operatebar"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isDialogShow=!0}}},[e._v("新建小组")])],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"组名",prop:"gname"}}),a("el-table-column",{attrs:{label:"成员"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(a.gnum)+"/"+e._s(a.gmax))]}}])}),a("el-table-column",{attrs:{label:"操作",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.editGroup(r)}}},[e._v("修改组名")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.$router.push({name:"groupDetail",query:{groupId:r.gid}})}}},[e._v("查看小组成员")]),a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteGroup(r)}}},[e._v("删除")])]}}])})],1),a("el-dialog",{attrs:{visible:e.isDialogShow,title:"添加小组",width:"40%"},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"100px","label-position":"right",model:e.form,rules:e.rules}},[a("el-form-item",{attrs:{label:"小组名：",prop:"groupName"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入小组名",clearable:""},model:{value:e.form.groupName,callback:function(t){e.$set(e.form,"groupName",t)},expression:"form.groupName"}})],1)],1),a("div",{staticClass:"p-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.isDialogShow=!1}}},[e._v("取消")])],1)],1)],1)},yt=[],wt={data:function(){return{form:{groupName:""},rules:{groupName:[{required:!0,message:"请输入小组名"}]},list:[],isDialogShow:!1,groupId:""}},methods:{editGroup:function(e){this.isDialogShow=!0,this.groupId=e.gid,this.form.groupName=e.gname},edit:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.group.changeGroupName({groupId:this.groupId,groupName:this.form.groupName});case 2:t=e.sent,100===t.data.code&&(this.$message.success("修改成功"),this.isDialogShow=!1,this.form.groupName="",this.groupId="",this.groupManagement());case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),submit:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$refs.form.validate(function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(a){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}if(""===t.groupId){e.next=4;break}return t.edit(),e.abrupt("return");case 4:return e.next=6,API.group.buildGroup(t.form);case 6:r=e.sent,100===r.data.code&&(t.$message.success("操作成功"),t.isDialogShow=!1,t.form.groupName="",t.$refs.form.clearValidate(),t.groupManagement());case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),deleteGroup:function(e){var t=this;this.$confirm("此操作将删除该组, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(v["a"])(regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,API.group.deleteGroup({groupId:e.gid,groupNum:e.gnum});case 2:r=a.sent,100===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.groupManagement());case 4:case"end":return a.stop()}},a)})))},groupManagement:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.group.groupManagement();case 2:t=e.sent,100===t.data.code&&(this.list=t.data.data.list);case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.groupManagement()}},Tt=wt,xt=Object(c["a"])(Tt,kt,yt,!1,null,null,null),Ct=xt.exports,St=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-operatebar"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.$router.push({name:"addGroupMember",query:{groupId:e.groupId}})}}},[e._v("添加成员")])],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"姓名",prop:"rname"}}),a("el-table-column",{attrs:{label:"性别"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(1===a.rsex?"男":"女"))]}}])}),a("el-table-column",{attrs:{label:"操作",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.deleteGroup(r)}}},[e._v("删除")])]}}])})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}})],1)},_t=[],It={data:function(){return{list:[],isDialogShow:!1,pagination:{totalCount:0,pageSize:20},page:1,groupId:""}},methods:{handlePageChange:function(e){this.page=e,this.addGroupMember(e)},deleteGroup:function(e){var t=this;this.$confirm("此操作将删除该成员, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(v["a"])(regeneratorRuntime.mark(function a(){var r;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,API.group.deleteGroup({groupId:e.gid,groupNum:e.gnum});case 2:r=a.sent,100===r.data.code&&(t.$message({type:"success",message:"删除成功!"}),t.groupManagement());case 4:case"end":return a.stop()}},a)})))},groupManagement:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.groupId=this.$route.query.groupId,e.next=3,API.group.groupDetail({groupId:this.groupId,page:t});case 3:a=e.sent,100===a.data.code&&(this.list=a.data.data.list,this.pagination.totalCount=a.data.data.total);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){this.groupManagement(1)}},Rt=It,Dt=Object(c["a"])(Rt,St,_t,!1,null,null,null),$t=Dt.exports,Lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"姓名",prop:"rname"}}),a("el-table-column",{attrs:{label:"所属组",prop:"groupName"}}),a("el-table-column",{attrs:{label:"性别",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[e._v(e._s(1===a.rsex?"男":"女"))]}}])}),a("el-table-column",{attrs:{label:"操作",prop:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.changeGroup(r)}}},[e._v("添加")])]}}])})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}})],1)},Pt=[],At={data:function(){return{list:[],pagination:{totalCount:0,pageSize:20},page:1,groupId:""}},methods:{handlePageChange:function(e){this.page=e,this.addGroupMember(e)},changeGroup:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.group.changeGroup({groupId:this.groupId,userId:t.rid});case 2:a=e.sent,100===a.data.code&&this.$message.success("操作成功");case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addGroupMember:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.groupId=this.$route.query.groupId,e.next=3,API.group.addGroupMember({groupId:this.groupId,page:t});case 3:a=e.sent,100===a.data.code&&(this.list=a.data.data.list,this.pagination.totalCount=a.data.data.total);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},mounted:function(){this.addGroupMember(1)}},Ot=At,jt=Object(c["a"])(Ot,Lt,Pt,!1,null,null,null),Ft=jt.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("el-row",{staticClass:"page-searchbar",attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-select",{staticClass:"w100",attrs:{placeholder:"请选择"},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.dateType,function(e,t){return a("el-option",{attrs:{value:t,label:e}})}),1)],1),"0"===e.searchType?a("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:6}},[a("el-switch",{attrs:{"active-text":"按日查询","inactive-text":"按月查询","active-value":"day","inactive-value":"month"},model:{value:e.form.checkWay,callback:function(t){e.$set(e.form,"checkWay",t)},expression:"form.checkWay"}})],1):e._e(),"0"===e.searchType?a("el-col",{attrs:{span:6}},[a("el-date-picker",{staticClass:"w100",attrs:{type:e.dateType1[e.form.checkWay],placeholder:"请选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1):e._e(),"1"===e.searchType?a("el-col",{attrs:{span:6}},[a("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"开始日期","value-format":"yyyy-MM-dd"},model:{value:e.form.fromDate,callback:function(t){e.$set(e.form,"fromDate",t)},expression:"form.fromDate"}})],1):e._e(),"1"===e.searchType?a("el-col",{attrs:{span:6}},[a("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.form.toDate,callback:function(t){e.$set(e.form,"toDate",t)},expression:"form.toDate"}})],1):e._e(),a("el-col",{attrs:{span:3}},[a("el-input",{staticClass:"w100",attrs:{placeholder:"用户编号",clearable:""},model:{value:e.form.searchUserId,callback:function(t){e.$set(e.form,"searchUserId",t)},expression:"form.searchUserId"}})],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:3}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"流水号",prop:"billId"}}),a("el-table-column",{attrs:{label:"任务编号",prop:"releaseTask"}}),a("el-table-column",{attrs:{label:"用户编号",prop:"userId"}}),a("el-table-column",{attrs:{label:"用户名",prop:"userName"}}),a("el-table-column",{attrs:{label:"时间",prop:"billDate"}}),a("el-table-column",{attrs:{label:"客户付款",prop:"totalPay"}}),a("el-table-column",{attrs:{label:"兼职成本",prop:"receiverCost"}}),a("el-table-column",{attrs:{label:"收入",prop:"income"}}),a("el-table-column",{attrs:{label:"任务状态",prop:"taskStatus"}}),a("el-table-column",{attrs:{label:"备注",prop:"remark"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.addRemark(r)}}},[e._v("添加备注")])]}}])})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.form.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}}),a("el-dialog",{attrs:{visible:e.isDialogShow,title:"添加备注",width:"50%"},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{attrs:{"label-width":"100px","label-position":"right"}},[a("el-form-item",{attrs:{label:"流水号：",prop:""}},[e._v(e._s(e.dForm.billId))]),a("el-form-item",{attrs:{label:"备注内容：",prop:""}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入备注",clearable:""},model:{value:e.dForm.remark,callback:function(t){e.$set(e.dForm,"remark",t)},expression:"dForm.remark"}})],1)],1),a("div",{staticClass:"p-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.isDialogShow=!1}}},[e._v("取消")])],1)],1)],1)},Ut=[],Bt=a("0a0d"),Mt=a.n(Bt),Et={mixins:[B],data:function(){return{dateType:Q,dateType1:{date:"day",month:"month"},searchType:"0",form:{checkWay:"date",date:"",searchUserId:"",page:1,fromDate:"",toDate:""},pagination:{totalCount:1,pageSize:20},list:[],isDialogShow:!1,dForm:{billId:"",remark:""}}},methods:{addRemark:function(e){this.isDialogShow=!0,this.dForm.billId=e.billId,this.dForm.remark=e.remark},submit:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.bill.updateRemark(this.dForm);case 2:t=e.sent,100===t.data.code&&(this.$message.success("提交成功"),this.isDialogShow=!1,this.getList());case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,n,i,o,l,c,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.query,a=t.searchType,r=t.date,s=t.searchUserId,n=t.checkWay,i=t.fromDate,o=t.toDate,l=t.page,this.searchType=a||"0",this.form.date=r||pe(Mt()()),this.form.checkWay=n||"day",this.form.searchUserId=s,this.form.page=+l||1,this.form.fromDate=i,this.form.toDate=o,"0"!==this.searchType){e.next=13;break}return e.next=11,API.bill.getFinancialBillByDate({checkWay:this.form.checkWay,date:this.form.date,searchUserId:this.form.searchUserId,page:this.form.page});case 11:c=e.sent,100===c.data.code&&(this.list=c.data.data.financialBill.list,this.pagination.totalCount=c.data.data.financialBill.total);case 13:if("1"!==this.searchType){e.next=18;break}return e.next=16,API.bill.getFinancialBillByDateRange({fromDate:this.form.fromDate,toDate:this.form.toDate,searchUserId:this.form.searchUserId,page:this.form.page});case 16:u=e.sent,100===u.data.code&&(this.list=u.data.data.financialBill.list,this.pagination.totalCount=u.data.data.financialBill.total);case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),search:function(){this.form.page=1;var e={},t=this.form,a=t.date,r=t.searchUserId,s=t.checkWay,n=t.fromDate,i=t.toDate,o=t.page;"0"===this.searchType&&(e={searchType:this.searchType,checkWay:s,date:a,searchUserId:r,page:o}),"1"===this.searchType&&(e={searchType:this.searchType,fromDate:n,toDate:i,searchUserId:r,page:o}),this.appendSearchParamsToRoute(e),this.getList()}}},qt=Et,zt=Object(c["a"])(qt,Nt,Ut,!1,null,null,null),Qt=zt.exports,Gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("el-row",{staticClass:"page-searchbar",attrs:{gutter:20}},[a("el-col",{attrs:{span:3}},[a("el-select",{staticClass:"w100",attrs:{placeholder:"请选择"},model:{value:e.searchType,callback:function(t){e.searchType=t},expression:"searchType"}},e._l(e.dateType,function(e,t){return a("el-option",{attrs:{value:t,label:e}})}),1)],1),"0"===e.searchType?a("el-col",{staticStyle:{"margin-top":"5px"},attrs:{span:6}},[a("el-switch",{attrs:{"active-text":"按日查询","inactive-text":"按月查询","active-value":"day","inactive-value":"month"},model:{value:e.form.checkWay,callback:function(t){e.$set(e.form,"checkWay",t)},expression:"form.checkWay"}})],1):e._e(),"0"===e.searchType?a("el-col",{attrs:{span:4}},[a("el-date-picker",{staticClass:"w100",attrs:{type:e.dateType1[e.form.checkWay],placeholder:"请选择日期","value-format":"yyyy-MM-dd"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1):e._e(),"1"===e.searchType?a("el-col",{attrs:{span:4}},[a("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"开始日期","value-format":"yyyy-MM-dd"},model:{value:e.form.fromDate,callback:function(t){e.$set(e.form,"fromDate",t)},expression:"form.fromDate"}})],1):e._e(),"1"===e.searchType?a("el-col",{attrs:{span:4}},[a("el-date-picker",{staticClass:"w100",attrs:{type:"date",placeholder:"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.form.toDate,callback:function(t){e.$set(e.form,"toDate",t)},expression:"form.toDate"}})],1):e._e(),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.billType,callback:function(t){e.$set(e.form,"billType",t)},expression:"form.billType"}},e._l(e.billType,function(e,t){return a("el-option",{key:t,attrs:{value:t,label:e}})}),1)],1),a("el-col",{attrs:{span:3}},[a("el-input",{staticClass:"w100",attrs:{placeholder:"用户编号",clearable:""},model:{value:e.form.searchUserId,callback:function(t){e.$set(e.form,"searchUserId",t)},expression:"form.searchUserId"}})],1),a("el-col",{staticStyle:{"text-align":"left"},attrs:{span:3}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1)],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"流水号",prop:"bid"}}),a("el-table-column",{attrs:{label:"任务编号",prop:"receivedTaskId"}}),a("el-table-column",{attrs:{label:"用户编号",prop:"buid"}}),a("el-table-column",{attrs:{label:"用户名",prop:"userName"}}),a("el-table-column",{attrs:{label:"时间",prop:"bdate"}}),a("el-table-column",{attrs:{label:"金额",prop:"bamount"}}),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return["receiverSalary"===e.form.billStatus?a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.changeBillStatus(r)}}},[e._v("结算")]):e._e()]}}])})],1),a("el-pagination",{staticClass:"page-pagination",attrs:{background:"",total:e.pagination.totalCount,"page-size":e.pagination.pageSize,"current-page":e.form.page,layout:"prev, pager, next, total, jumper"},on:{"current-change":e.handlePageChange}})],1)},Vt=[],Wt={mixins:[B],data:function(){return{dateType:Q,billType:G,dateType1:{date:"day",month:"month"},searchType:"0",form:{billType:"",checkWay:"date",date:"",searchUserId:"",page:1,fromDate:"",toDate:""},pagination:{totalCount:1,pageSize:20},list:[],isDialogShow:!1,dForm:{billId:"",remark:""}}},methods:{changeBillStatus:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(t){var a=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("确定结算?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(v["a"])(regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,API.bill.changeBillStatus({billId:t.bid,billStatus:t.bstatus,amount:t.bamount,receiverId:t.buid});case 2:r=e.sent,100===r.data.code&&(a.$message({type:"success",message:"删除成功!"}),a.getList());case 4:case"end":return e.stop()}},e)})));case 1:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r,s,n,i,o,l,c,u,p;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.$route.query,a=t.searchType,r=t.date,s=t.searchUserId,n=t.checkWay,i=t.fromDate,o=t.toDate,l=t.page,c=t.billType,this.searchType=a||"0",this.form.date=r||pe(Mt()()),this.form.checkWay=n||"day",this.form.searchUserId=s,this.form.page=+l||1,this.form.fromDate=i,this.form.toDate=o,this.form.billType=c||"clientRecharge","0"!==this.searchType){e.next=14;break}return e.next=12,API.bill.getBillByDate({checkWay:this.form.checkWay,date:this.form.date,searchUserId:this.form.searchUserId,billType:this.form.billType,page:this.form.page});case 12:u=e.sent,100===u.data.code&&(this.list=u.data.data.clientBill.list,this.pagination.totalCount=u.data.data.clientBill.total);case 14:if("1"!==this.searchType){e.next=19;break}return e.next=17,API.bill.getBillByDateRange({fromDate:this.form.fromDate,toDate:this.form.toDate,searchUserId:this.form.searchUserId,billType:this.form.billType,page:this.form.page});case 17:p=e.sent,100===p.data.code&&(this.list=p.data.data.clientBill.list,this.pagination.totalCount=p.data.data.clientBill.total);case 19:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),search:function(){this.form.page=1;var e={},t=this.form,a=t.date,r=t.searchUserId,s=t.checkWay,n=t.fromDate,i=t.toDate,o=t.page,l=t.billType;"0"===this.searchType&&(e={searchType:this.searchType,checkWay:s,date:a,searchUserId:r,page:o,billType:l}),"1"===this.searchType&&(e={searchType:this.searchType,fromDate:n,toDate:i,searchUserId:r,page:o,billType:l}),this.appendSearchParamsToRoute(e),this.getList()}}},Jt=Wt,Kt=Object(c["a"])(Jt,Gt,Vt,!1,null,null,null),Yt=Kt.exports,Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"page-operatebar"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isDialogShow=!0}}},[e._v("创建公告")])],1),a("el-table",{staticClass:"page-table",attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{type:"index"}}),a("el-table-column",{attrs:{label:"公告编号",prop:"nid"}}),a("el-table-column",{attrs:{label:"公告标题",prop:"ntitle"}}),a("el-table-column",{attrs:{label:"公告内容",prop:"ncontent"}}),a("el-table-column",{attrs:{label:"新建时间",prop:"ndate"}}),a("el-table-column",{attrs:{label:"管理员",prop:"adminName"}})],1),a("el-dialog",{attrs:{visible:e.isDialogShow,title:"新建公告",width:"40%"},on:{"update:visible":function(t){e.isDialogShow=t}}},[a("el-form",{ref:"form",attrs:{"label-width":"100px","label-position":"right",model:e.dForm,rules:e.rules}},[a("el-form-item",{attrs:{label:"标题：",prop:"noticeTitle"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入小组名",clearable:""},model:{value:e.dForm.noticeTitle,callback:function(t){e.$set(e.dForm,"noticeTitle",t)},expression:"dForm.noticeTitle"}})],1),a("el-form-item",{attrs:{label:"内容：",prop:"noticeContent"}},[a("el-input",{staticClass:"w300",attrs:{placeholder:"请输入内容",type:"textarea",clearable:"",rows:6},model:{value:e.dForm.noticeContent,callback:function(t){e.$set(e.dForm,"noticeContent",t)},expression:"dForm.noticeContent"}})],1)],1),a("div",{staticClass:"p-foot",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.isDialogShow=!1}}},[e._v("取消")])],1)],1)],1)},Ht=[],Xt={mixins:[B],data:function(){return{form:{page:1},dForm:{noticeTitle:"",noticeContent:""},rules:{noticeTitle:[{required:!0,message:"请输入标题"}],noticeContent:[{required:!0,message:"请输入内容"}]},isDialogShow:!1,pagination:{totalCount:1,pageSize:10},list:[]}},methods:{submit:function(){var e=this;this.$refs.form.validate(function(){var t=Object(v["a"])(regeneratorRuntime.mark(function t(a){var r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!a){t.next=5;break}return t.next=3,API.notice.add(e.dForm);case 3:r=t.sent,100===r.data.code&&(e.$message.success("新增成功"),e.isDialogShow=!1,e.$refs.form.resetFields(),e.getList());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},getList:function(){var e=Object(v["a"])(regeneratorRuntime.mark(function e(){var t,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$route.query.page,this.form.page=+t||1,a=Object(b["a"])({},this.form,{pageSize:this.pagination.pageSize}),e.next=5,API.notice.searchAll(a);case 5:r=e.sent,100===r.data.code&&(this.list=r.data.data.list,this.pagination.totalCount=r.data.data.total);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},ea=Xt,ta=Object(c["a"])(ea,Zt,Ht,!1,null,null,null),aa=ta.exports;s.a.use(m["a"]);var ra=new m["a"]({routes:[{name:"login",path:"/login",component:T},{name:"home",path:"/",component:O,redirect:{name:"publishedMissionList"},children:[{name:"publishedMissionList",path:"/mission/publishedMissionList",component:K,meta:{breads:["已发布任务"]}},{name:"onlineMission",path:"/mission/publishedMissionList/onlineMission",component:te,meta:{breads:["已发布任务","线上任务"]}},{name:"acceptMissionList",path:"/mission/publishedMissionList/acceptMissionList",component:he,meta:{breads:["已发布任务","接单任务浏览"]}},{name:"missionCheckList",path:"/mission/missionCheckList",component:oe,meta:{breads:["任务审核"]}},{name:"publishMission",path:"/mission/publishMission",component:$e,meta:{breads:["发布任务"]}},{name:"platformList",path:"/mission/platformList",component:Fe,meta:{breads:["平台及任务类型管理"]}},{name:"categoryList",path:"/mission/platformList/categoryList",component:qe,meta:{breads:["平台及任务类型管理","一级类型"]}},{name:"childCategoryList",path:"/mission/platformList/childCategoryList",component:Je,meta:{breads:["平台及任务类型管理","一级类型","二级类型"]}},{name:"rUserManage",path:"/user/rUserManage",component:it,meta:{breads:["用户管理","兼职管理"]}},{name:"cUserManage",path:"/user/cUserManage",component:et,meta:{breads:["用户管理","客户管理"]}},{name:"userDetail",path:"/user/userDetail",component:mt,meta:{breads:["用户管理","用户详情"]}},{name:"adminUserManage",path:"/user/adminUserManage",component:vt,meta:{breads:["后台用户管理"]}},{name:"groupList",path:"/group/groupList",component:Ct,meta:{breads:["小组管理"]}},{name:"groupDetail",path:"/group/groupList/groupDetail",component:$t,meta:{breads:["小组管理","小组详情"]}},{name:"addGroupMember",path:"/group/groupList/addGroupMember",component:Ft,meta:{breads:["小组管理","小组详情","添加成员"]}},{name:"missionBillList",path:"/finance/missionBillList",component:Qt,meta:{breads:["财务管理","任务账单"]}},{name:"userBillList",path:"/finance/userBillList",component:Yt,meta:{breads:["财务管理","用户账单"]}},{name:"noticeList",path:"/notice/noticeList",component:aa,meta:{breads:["公告管理"]}},{name:"missionCheck",path:"/mission/missionCheckList/missionCheck",component:te,meta:{breads:["任务审核","任务详情"]}}]}]}),sa=a("2f62");s.a.use(sa["a"]);var na=new sa["a"].Store({state:{isLoading:!1,userInfo:null},mutations:{updateLoadingStatus:function(e,t){e.isLoading=t},updateUserInfo:function(e,t){e.userInfo=t}},actions:{}}),ia=a("5c96"),oa=a.n(ia),la=(a("0fae"),a("795b")),ca=a.n(la),ua=a("bc3a"),pa=a.n(ua);window.ENV="";var ma=pa.a.create({headers:{"content-type":"multipart/form-data"},timeout:5e3,baseURL:ENV}),da=pa.a.create({headers:{"content-type":"multipart/form-data"},timeout:5e3,baseURL:""});ma.interceptors.request.use(function(e){var t=new FormData;for(var a in e.data)e.data.hasOwnProperty(a)&&void 0!==e.data[a]&&t.append(a,e.data[a]);return e.data=t,na.commit("updateLoadingStatus",!0),e},function(e){return ca.a.reject(e)}),ma.interceptors.response.use(function(e){return 401===e.data.code&&ra.replace({name:"login"}),na.commit("updateLoadingStatus",!1),e},function(e){var t=e.request.response;e.request.status;return na.commit("updateLoadingStatus",!1),ia["Message"].error({message:t.message||"系统繁忙"}),ca.a.reject(e)}),da.interceptors.request.use(function(e){var t=new FormData;for(var a in e.data)e.data.hasOwnProperty(a)&&void 0!==e.data[a]&&t.append(a,e.data[a]);return e.data=t,e},function(e){return ca.a.reject(e)}),da.interceptors.response.use(function(e){return 401===e.data.code&&ra.replace({name:"login"}),e},function(e){JSON.parse(e.request.response);var t=e.request.status;return 401===t&&ra.replace({name:"login"}),ca.a.reject(e)}),window.API={common:{login:function(e){return da.post("/Admin/doLogin",e)}},platform:{searchAll:function(e){return da.post("/Platform/searchAll",e)}},mission:{taskView:function(e){return ma.post("/AllTask/taskView",e)},taskDetail:function(e){return ma.post("/AllTask/taskDetail",e)},addQuantity:function(e){return ma.post("/Task/addQuantity",e)},updateReleaseStatus:function(e){return ma.post("/AllTask/updateReleaseStatus",e)},receiveTaskView:function(e){return ma.post("/AllTask/receiveTaskView",e)},taskCheck:function(e){return ma.post("/AllTask/taskCheck",e)},checkReleaseTask:function(e){return ma.post("/AllTask/checkReleaseTask",e)},updateReceiveStatus:function(e){return ma.post("/AllTask/updateReceiveStatus",e)},getTaskType:function(e){return da.post("/Task/getTaskType",e)},getTaskTypeDetail:function(e){return da.post("/Task/getTaskTypeDetail",e)},doPublish:function(e){return ma.post("/Task/doBatchPublish",e)},getPlatformList:function(e){return ma.post("/Platform/searchAll",e)},addPlatform:function(e){return da.post("/Platform/add",e)},delPlatform:function(e){return da.post("/Platform/del",e)},editPlatform:function(e){return da.post("/Platform/changeName",e)},getPCList:function(e){return ma.post("/TaskType/searchAll",e)},addPC:function(e){return da.post("/TaskType/add",e)},delPC:function(e){return da.post("/TaskType/del",e)},getAllSecondTaskType:function(e){return ma.post("/TaskType/getAllSecondTaskType",e)},addSecondTaskType:function(e){return ma.post("/TaskType/addSecondTaskType",e)},delSecondTaskType:function(e){return ma.post("/TaskType/delSecondTaskType",e)},foundation:function(e){return ma.post("/Task/foundation",e)}},group:{groupManagement:function(e){return ma.post("/Group/groupManagement",e)},deleteGroup:function(e){return ma.post("/Group/deleteGroup",e)},buildGroup:function(e){return ma.post("/Group/buildGroup",e)},changeGroupName:function(e){return ma.post("/Group/changeGroupName",e)},groupDetail:function(e){return ma.post("/Group/groupDetail",e)},addGroupMember:function(e){return ma.post("/Group/addGroupMember",e)},changeGroup:function(e){return ma.post("/Group/changeGroup",e)}},bill:{getBillByDate:function(e){return ma.post("/Bill/getBillByDate",e)},getBillByDateRange:function(e){return ma.post("/Bill/getBillByDateRange",e)},changeBillStatus:function(e){return ma.post("/Bill/changeBillStatus",e)},getFinancialBillByDate:function(e){return ma.post("/Bill/getFinancialBillByDate",e)},getFinancialBillByDateRange:function(e){return ma.post("/Bill/getFinancialBillByDateRange",e)},updateRemark:function(e){return ma.post("/Bill/updateRemark",e)}},user:{getUserList:function(e){return ma.post("/User/getUserList",e)},userDetail:function(e){return ma.post("/User/userDetail",e)},adminManagement:function(e){return ma.post("/Admin/adminManagement",e)},deleteAdmin:function(e){return ma.post("/Admin/deleteAdmin",e)},addAdmin:function(e){return ma.post("/Admin/addAdmin",e)}},notice:{searchAll:function(e){return ma.post("/Notice/searchAll",e)},add:function(e){return ma.post("/Notice/add",e)}}},s.a.config.productionTip=!1,s.a.use(oa.a,{size:"small"}),s.a.filter("formatTime",function(e){return pe(e)}),na.commit("updateUserInfo",JSON.parse(localStorage.userInfo||"{}")),new s.a({router:ra,store:na,render:function(e){return e(p)}}).$mount("#app")},"5c48":function(e,t,a){},"5dec":function(e,t,a){"use strict";var r=a("c90d"),s=a.n(r);s.a},"5f0c":function(e,t,a){},"7c55":function(e,t,a){"use strict";var r=a("5c48"),s=a.n(r);s.a},"8bbf":function(e,t){e.exports=Vue},c90d:function(e,t,a){},e777:function(e,t,a){"use strict";var r=a("5f0c"),s=a.n(r);s.a},ee8e:function(e,t,a){}},[[0,"manifest","chunk-vendors"]]]);
//# sourceMappingURL=app.a58c1efe.js.map